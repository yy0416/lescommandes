{% extends 'base.html.twig' %}

{% block title %}
	{{ 'order.detail.title'|trans }}
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<div class="card">
			<div class="card-header">
				{{ 'order.detail.number'|trans }}
				#{{ order.id }}
			</div>
			<div class="card-body">
				<h5 class="card-title">{{ 'order.detail.info'|trans }}</h5>
				<div class="row mb-3">
					<div class="col-md-6">
						<p>
							<strong>{{ 'order.detail.customer_name'|trans }}：</strong>
							{{ order.customerName }}</p>
						<p>
							<strong>{{ 'order.detail.phone'|trans }}：</strong>
							{{ order.phone }}</p>
						<p>
							<strong>{{ 'order.detail.email'|trans }}：</strong>
							{{ order.email }}</p>
					</div>
					<div class="col-md-6">
						<p>
							<strong>{{ 'order.detail.pickup_location'|trans }}：</strong>
							{{ order.pickupLocation.name }}</p>
						<p>
							<strong>{{ 'order.detail.pickup_time'|trans }}：</strong>
							{{ order.pickupTime|date('Y-m-d H:i') }}</p>
						<p>
							<strong>{{ 'order.detail.created_at'|trans }}：</strong>
							{{ order.createdAt|date('Y-m-d H:i:s') }}</p>
					</div>
				</div>

				<h5 class="card-title">{{ 'order.detail.items'|trans }}</h5>
				<div class="table-responsive">
					<table class="table">
						<thead>
							<tr>
								<th>{{ 'order.detail.product_name'|trans }}</th>
								<th>{{ 'order.detail.unit_price'|trans }}</th>
								<th>{{ 'order.detail.quantity'|trans }}</th>
								<th>{{ 'order.detail.subtotal'|trans }}</th>
							</tr>
						</thead>
						<tbody>
							{% for item in order.orderItems %}
								<tr>
									<td>{{ item.product.name }}</td>
									<td>¥{{ item.price }}</td>
									<td>{{ item.quantity }}</td>
									<td>¥{{ item.price * item.quantity }}</td>
								</tr>
							{% endfor %}
						</tbody>
						<tfoot>
							<tr>
								<td colspan="3" class="text-right">
									<strong>{{ 'order.detail.total'|trans }}:</strong>
								</td>
								<td>
									<strong>¥{{ order.totalAmount }}</strong>
								</td>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
		</div>

		<div class="text-right">
			<a href="{{ path('app_orders') }}" class="btn btn-secondary">{{ 'order.detail.back_to_list'|trans }}</a>
		</div>
	</div>
{% endblock %}
